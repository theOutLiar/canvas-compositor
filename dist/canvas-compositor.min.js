/**
 * @license almond 0.3.1 Copyright (c) 2011-2014, The Dojo Foundation All Rights Reserved.
 * Available via the MIT or new BSD license.
 * see: http://github.com/jrburke/almond for details
 */

/**
 * @license
 * lodash 3.4.0 (Custom Build) <https://lodash.com/>
 * Build: `lodash modern -o ./lodash.js`
 * Copyright 2012-2015 The Dojo Foundation <http://dojofoundation.org/>
 * Based on Underscore.js 1.8.2 <http://underscorejs.org/LICENSE>
 * Copyright 2009-2015 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 * Available under MIT license <https://lodash.com/license>
 */

!function(t,n){"function"==typeof define&&define.amd?define([],n):t.CanvasCompositor=n()}(this,function(){var t,n,e;return function(r){function i(t,n){return b.call(t,n)}function o(t,n){var e,r,i,o,u,a,s,f,l,c,h,p=n&&n.split("/"),d=_.map,g=d&&d["*"]||{};if(t&&"."===t.charAt(0))if(n){for(t=t.split("/"),u=t.length-1,_.nodeIdCompat&&w.test(t[u])&&(t[u]=t[u].replace(w,"")),t=p.slice(0,p.length-1).concat(t),l=0;l<t.length;l+=1)if(h=t[l],"."===h)t.splice(l,1),l-=1;else if(".."===h){if(1===l&&(".."===t[2]||".."===t[0]))break;l>0&&(t.splice(l-1,2),l-=2)}t=t.join("/")}else 0===t.indexOf("./")&&(t=t.substring(2));if((p||g)&&d){for(e=t.split("/"),l=e.length;l>0;l-=1){if(r=e.slice(0,l).join("/"),p)for(c=p.length;c>0;c-=1)if(i=d[p.slice(0,c).join("/")],i&&(i=i[r])){o=i,a=l;break}if(o)break;!s&&g&&g[r]&&(s=g[r],f=l)}!o&&s&&(o=s,a=f),o&&(e.splice(0,a,o),t=e.join("/"))}return t}function u(t,n){return function(){var e=x.call(arguments,0);return"string"!=typeof e[0]&&1===e.length&&e.push(null),p.apply(r,e.concat([t,n]))}}function a(t){return function(n){return o(n,t)}}function s(t){return function(n){v[t]=n}}function f(t){if(i(y,t)){var n=y[t];delete y[t],m[t]=!0,h.apply(r,n)}if(!i(v,t)&&!i(m,t))throw new Error("No "+t);return v[t]}function l(t){var n,e=t?t.indexOf("!"):-1;return e>-1&&(n=t.substring(0,e),t=t.substring(e+1,t.length)),[n,t]}function c(t){return function(){return _&&_.config&&_.config[t]||{}}}var h,p,d,g,v={},y={},_={},m={},b=Object.prototype.hasOwnProperty,x=[].slice,w=/\.js$/;d=function(t,n){var e,r=l(t),i=r[0];return t=r[1],i&&(i=o(i,n),e=f(i)),i?t=e&&e.normalize?e.normalize(t,a(n)):o(t,n):(t=o(t,n),r=l(t),i=r[0],t=r[1],i&&(e=f(i))),{f:i?i+"!"+t:t,n:t,pr:i,p:e}},g={require:function(t){return u(t)},exports:function(t){var n=v[t];return"undefined"!=typeof n?n:v[t]={}},module:function(t){return{id:t,uri:"",exports:v[t],config:c(t)}}},h=function(t,n,e,o){var a,l,c,h,p,_,b=[],x=typeof e;if(o=o||t,"undefined"===x||"function"===x){for(n=!n.length&&e.length?["require","exports","module"]:n,p=0;p<n.length;p+=1)if(h=d(n[p],o),l=h.f,"require"===l)b[p]=g.require(t);else if("exports"===l)b[p]=g.exports(t),_=!0;else if("module"===l)a=b[p]=g.module(t);else if(i(v,l)||i(y,l)||i(m,l))b[p]=f(l);else{if(!h.p)throw new Error(t+" missing "+l);h.p.load(h.n,u(o,!0),s(l),{}),b[p]=v[l]}c=e?e.apply(v[t],b):void 0,t&&(a&&a.exports!==r&&a.exports!==v[t]?v[t]=a.exports:c===r&&_||(v[t]=c))}else t&&(v[t]=e)},t=n=p=function(t,n,e,i,o){if("string"==typeof t)return g[t]?g[t](n):f(d(t,n).f);if(!t.splice){if(_=t,_.deps&&p(_.deps,_.callback),!n)return;n.splice?(t=n,n=e,e=null):t=r}return n=n||function(){},"function"==typeof e&&(e=i,i=o),i?h(r,t,n,e):setTimeout(function(){h(r,t,n,e)},4),p},p.config=function(t){return p(t)},t._defined=v,e=function(t,n,e){if("string"!=typeof t)throw new Error("See almond README: incorrect module build, no module name");n.splice||(e=n,n=[]),i(v,t)||i(y,t)||(y[t]=[t,n,e])},e.amd={jQuery:!0}}(),e("bower_components/almond/almond",function(){}),function(){function t(t,n){if(t!==n){var e=t===t,r=n===n;if(t>n||!e||"undefined"==typeof t&&r)return 1;if(n>t||!r||"undefined"==typeof n&&e)return-1}return 0}function n(t,n,e){if(n!==n)return p(t,e);for(var r=e-1,i=t.length;++r<i;)if(t[r]===n)return r;return-1}function r(t){return"function"==typeof t||!1}function i(t){return"string"==typeof t?t:null==t?"":t+""}function o(t){return t.charCodeAt(0)}function u(t,n){for(var e=-1,r=t.length;++e<r&&n.indexOf(t.charAt(e))>-1;);return e}function a(t,n){for(var e=t.length;e--&&n.indexOf(t.charAt(e))>-1;);return e}function s(n,e){return t(n.criteria,e.criteria)||n.index-e.index}function f(n,e,r){for(var i=-1,o=n.criteria,u=e.criteria,a=o.length,s=r.length;++i<a;){var f=t(o[i],u[i]);if(f)return i>=s?f:r[i]?f:-1*f}return n.index-e.index}function l(t){return Ln[t]}function c(t){return Mn[t]}function h(t){return"\\"+$n[t]}function p(t,n,e){for(var r=t.length,i=n+(e?0:-1);e?i--:++i<r;){var o=t[i];if(o!==o)return i}return-1}function d(t){return t&&"object"==typeof t||!1}function g(t){return 160>=t&&t>=9&&13>=t||32==t||160==t||5760==t||6158==t||t>=8192&&(8202>=t||8232==t||8233==t||8239==t||8287==t||12288==t||65279==t)}function v(t,n){for(var e=-1,r=t.length,i=-1,o=[];++e<r;)t[e]===n&&(t[e]=M,o[++i]=e);return o}function y(t,n){for(var e,r=-1,i=t.length,o=-1,u=[];++r<i;){var a=t[r],s=n?n(a,r,t):a;r&&e===s||(e=s,u[++o]=a)}return u}function _(t){for(var n=-1,e=t.length;++n<e&&g(t.charCodeAt(n)););return n}function m(t){for(var n=t.length;n--&&g(t.charCodeAt(n)););return n}function b(t){return Vn[t]}function x(e){function g(t){if(d(t)&&!ns(t)&&!(t instanceof tn)){if(t instanceof Q)return t;if(oa.call(t,"__chain__")&&oa.call(t,"__wrapped__"))return Dr(t)}return new Q(t)}function H(){}function Q(t,n,e){this.__wrapped__=t,this.__actions__=e||[],this.__chain__=!!n}function tn(t){this.__wrapped__=t,this.__actions__=null,this.__dir__=1,this.__dropCount__=0,this.__filtered__=!1,this.__iteratees__=null,this.__takeCount__=Wa,this.__views__=null}function Ln(){var t=this.__actions__,n=this.__iteratees__,e=this.__views__,r=new tn(this.__wrapped__);return r.__actions__=t?Zn(t):null,r.__dir__=this.__dir__,r.__dropCount__=this.__dropCount__,r.__filtered__=this.__filtered__,r.__iteratees__=n?Zn(n):null,r.__takeCount__=this.__takeCount__,r.__views__=e?Zn(e):null,r}function Mn(){if(this.__filtered__){var t=new tn(this);t.__dir__=-1,t.__filtered__=!0}else t=this.clone(),t.__dir__*=-1;return t}function Vn(){var t=this.__wrapped__.value();if(!ns(t))return Qe(t,this.__actions__);var n=this.__dir__,e=0>n,r=wr(0,t.length,this.__views__),i=r.start,o=r.end,u=o-i,a=this.__dropCount__,s=Pa(u,this.__takeCount__),f=e?o:i-1,l=this.__iteratees__,c=l?l.length:0,h=0,p=[];t:for(;u--&&s>h;){f+=n;for(var d=-1,g=t[f];++d<c;){var v=l[d],y=v.iteratee,_=v.type;if(_!=B)var m=y(g);else v.done=v.done&&(e?f<v.index:f>v.index),v.index=f,m=v.done||(v.done=!y(g));if(_==N)g=m;else if(!m){if(_==D)break t;continue t}}a?a--:p[h++]=g}return p}function zn(){this.__data__={}}function $n(t){return this.has(t)&&delete this.__data__[t]}function qn(t){return"__proto__"==t?w:this.__data__[t]}function Yn(t){return"__proto__"!=t&&oa.call(this.__data__,t)}function Xn(t,n){return"__proto__"!=t&&(this.__data__[t]=n),this}function Hn(t){var n=t?t.length:0;for(this.data={hash:ja(null),set:new _a};n--;)this.push(t[n])}function Kn(t,n){var e=t.data,r="string"==typeof n||Oo(n)?e.set.has(n):e.hash[n];return r?0:-1}function Qn(t){var n=this.data;"string"==typeof t||Oo(t)?n.set.add(t):n.hash[t]=!0}function Zn(t,n){var e=-1,r=t.length;for(n||(n=$u(r));++e<r;)n[e]=t[e];return n}function te(t,n){for(var e=-1,r=t.length;++e<r&&n(t[e],e,t)!==!1;);return t}function ne(t,n){for(var e=t.length;e--&&n(t[e],e,t)!==!1;);return t}function ee(t,n){for(var e=-1,r=t.length;++e<r;)if(!n(t[e],e,t))return!1;return!0}function re(t,n){for(var e=-1,r=t.length,i=-1,o=[];++e<r;){var u=t[e];n(u,e,t)&&(o[++i]=u)}return o}function ie(t,n){for(var e=-1,r=t.length,i=$u(r);++e<r;)i[e]=n(t[e],e,t);return i}function oe(t){for(var n=-1,e=t.length,r=Fa;++n<e;){var i=t[n];i>r&&(r=i)}return r}function ue(t){for(var n=-1,e=t.length,r=Wa;++n<e;){var i=t[n];r>i&&(r=i)}return r}function ae(t,n,e,r){var i=-1,o=t.length;for(r&&o&&(e=t[++i]);++i<o;)e=n(e,t[i],i,t);return e}function se(t,n,e,r){var i=t.length;for(r&&i&&(e=t[--i]);i--;)e=n(e,t[i],i,t);return e}function fe(t,n){for(var e=-1,r=t.length;++e<r;)if(n(t[e],e,t))return!0;return!1}function le(t,n){return"undefined"==typeof t?n:t}function ce(t,n,e,r){return"undefined"!=typeof t&&oa.call(r,e)?t:n}function he(t,n,e){var r=us(n);if(!e)return de(n,t,r);for(var i=-1,o=r.length;++i<o;){var u=r[i],a=t[u],s=e(a,n[u],u,t,n);(s===s?s===a:a!==a)&&("undefined"!=typeof a||u in t)||(t[u]=s)}return t}function pe(t,n){for(var e=-1,r=t.length,i=Pr(r),o=n.length,u=$u(o);++e<o;){var a=n[e];i?(a=parseFloat(a),u[e]=Sr(a,r)?t[a]:w):u[e]=t[a]}return u}function de(t,n,e){e||(e=n,n={});for(var r=-1,i=e.length;++r<i;){var o=e[r];n[o]=t[o]}return n}function ge(t,n){for(var e=-1,r=n.length;++e<r;){var i=n[e];t[i]=gr(t[i],R,t)}return t}function ve(t,n,e){var r=typeof t;return"function"==r?"undefined"!=typeof n&&Ar(t)?nr(t,n,e):t:null==t?Cu:"object"==r?Ne(t):"undefined"==typeof n?Ve(t+""):De(t+"",n)}function ye(t,n,e,r,i,o,u){var a;if(e&&(a=i?e(t,r,i):e(t)),"undefined"!=typeof a)return a;if(!Oo(t))return t;var s=ns(t);if(s){if(a=Er(t),!n)return Zn(t,a)}else{var f=aa.call(t),l=f==X;if(f!=G&&f!=V&&(!l||i))return Nn[f]?jr(t,f,n):i?t:{};if(a=Rr(l?{}:t),!n)return de(t,a,us(t))}o||(o=[]),u||(u=[]);for(var c=o.length;c--;)if(o[c]==t)return u[c];return o.push(t),u.push(a),(s?te:Oe)(t,function(r,i){a[i]=ye(r,n,e,i,t,o,u)}),a}function _e(t,n,e,r){if("function"!=typeof t)throw new Zu(L);return ma(function(){t.apply(w,Ye(e,r))},n)}function me(t,e){var r=t?t.length:0,i=[];if(!r)return i;var o=-1,u=xr(),a=u==n,s=a&&e.length>=200?qa(e):null,f=e.length;s&&(u=Kn,a=!1,e=s);t:for(;++o<r;){var l=t[o];if(a&&l===l){for(var c=f;c--;)if(e[c]===l)continue t;i.push(l)}else u(e,l,0)<0&&i.push(l)}return i}function be(t,n){var e=t?t.length:0;if(!Pr(e))return Oe(t,n);for(var r=-1,i=Nr(t);++r<e&&n(i[r],r,i)!==!1;);return t}function xe(t,n){var e=t?t.length:0;if(!Pr(e))return Ce(t,n);for(var r=Nr(t);e--&&n(r[e],e,r)!==!1;);return t}function we(t,n){var e=!0;return be(t,function(t,r,i){return e=!!n(t,r,i)}),e}function Ee(t,n,e,r){var i=t.length;for(e=null==e?0:+e||0,0>e&&(e=-e>i?0:i+e),r="undefined"==typeof r||r>i?i:+r||0,0>r&&(r+=i),i=e>r?0:r>>>0,e>>>=0;i>e;)t[e++]=n;return t}function Re(t,n){var e=[];return be(t,function(t,r,i){n(t,r,i)&&e.push(t)}),e}function je(t,n,e,r){var i;return e(t,function(t,e,o){return n(t,e,o)?(i=r?e:t,!1):void 0}),i}function Ae(t,n,e,r){for(var i=r-1,o=t.length,u=-1,a=[];++i<o;){var s=t[i];if(d(s)&&Pr(s.length)&&(ns(s)||Eo(s))){n&&(s=Ae(s,n,e,0));var f=-1,l=s.length;for(a.length+=l;++f<l;)a[++u]=s[f]}else e||(a[++u]=s)}return a}function Se(t,n,e){for(var r=-1,i=Nr(t),o=e(t),u=o.length;++r<u;){var a=o[r];if(n(i[a],a,i)===!1)break}return t}function Ie(t,n,e){for(var r=Nr(t),i=e(t),o=i.length;o--;){var u=i[o];if(n(r[u],u,r)===!1)break}return t}function Pe(t,n){return Se(t,n,Zo)}function Oe(t,n){return Se(t,n,us)}function Ce(t,n){return Ie(t,n,us)}function ke(t,n){for(var e=-1,r=n.length,i=-1,o=[];++e<r;){var u=n[e];rs(t[u])&&(o[++i]=u)}return o}function Te(t,n,e){var r=-1,i="function"==typeof n,o=t?t.length:0,u=Pr(o)?$u(o):[];return be(t,function(t){var o=i?n:null!=t&&t[n];u[++r]=o?o.apply(t,e):w}),u}function Fe(t,n,e,r,i,o){if(t===n)return 0!==t||1/t==1/n;var u=typeof t,a=typeof n;return"function"!=u&&"object"!=u&&"function"!=a&&"object"!=a||null==t||null==n?t!==t&&n!==n:We(t,n,Fe,e,r,i,o)}function We(t,n,e,r,i,o,u){var a=ns(t),s=ns(n),f=z,l=z;a||(f=aa.call(t),f==V?f=G:f!=G&&(a=No(t))),s||(l=aa.call(n),l==V?l=G:l!=G&&(s=No(n)));var c=f==G,h=l==G,p=f==l;if(p&&!a&&!c)return yr(t,n,f);var d=c&&oa.call(t,"__wrapped__"),g=h&&oa.call(n,"__wrapped__");if(d||g)return e(d?t.value():t,g?n.value():n,r,i,o,u);if(!p)return!1;o||(o=[]),u||(u=[]);for(var v=o.length;v--;)if(o[v]==t)return u[v]==n;o.push(t),u.push(n);var y=(a?vr:_r)(t,n,e,r,i,o,u);return o.pop(),u.pop(),y}function Ue(t,n,e,r,i){var o=n.length;if(null==t)return!o;for(var u=-1,a=!i;++u<o;)if(a&&r[u]?e[u]!==t[n[u]]:!oa.call(t,n[u]))return!1;for(u=-1;++u<o;){var s=n[u];if(a&&r[u])var f=oa.call(t,s);else{var l=t[s],c=e[u];f=i?i(l,c,s):w,"undefined"==typeof f&&(f=Fe(c,l,i,!0))}if(!f)return!1}return!0}function Be(t,n){var e=[];return be(t,function(t,r,i){e.push(n(t,r,i))}),e}function Ne(t){var n=us(t),e=n.length;if(1==e){var r=n[0],i=t[r];if(Or(i))return function(t){return null!=t&&t[r]===i&&oa.call(t,r)}}for(var o=$u(e),u=$u(e);e--;)i=t[n[e]],o[e]=i,u[e]=Or(i);return function(t){return Ue(t,n,o,u)}}function De(t,n){return Or(n)?function(e){return null!=e&&e[t]===n}:function(e){return null!=e&&Fe(n,e[t],null,!0)}}function Le(t,n,e,r,i){if(!Oo(t))return t;var o=Pr(n.length)&&(ns(n)||No(n));return(o?te:Oe)(n,function(n,u,a){if(d(n))return r||(r=[]),i||(i=[]),Me(t,a,u,Le,e,r,i);var s=t[u],f=e?e(s,n,u,t,a):w,l="undefined"==typeof f;l&&(f=n),!o&&"undefined"==typeof f||!l&&(f===f?f===s:s!==s)||(t[u]=f)}),t}function Me(t,n,e,r,i,o,u){for(var a=o.length,s=n[e];a--;)if(o[a]==s)return void(t[e]=u[a]);var f=t[e],l=i?i(f,s,e,t,n):w,c="undefined"==typeof l;c&&(l=s,Pr(s.length)&&(ns(s)||No(s))?l=ns(f)?f:f?Zn(f):[]:is(s)||Eo(s)?l=Eo(f)?Mo(f):is(f)?f:{}:c=!1),o.push(s),u.push(l),c?t[e]=r(l,s,i,o,u):(l===l?l!==f:f===f)&&(t[e]=l)}function Ve(t){return function(n){return null==n?w:n[t]}}function ze(n,e){var r=e.length,i=pe(n,e);for(e.sort(t);r--;){var o=parseFloat(e[r]);if(o!=u&&Sr(o)){var u=o;ba.call(n,o,1)}}return i}function $e(t,n){return t+da(Ta()*(n-t+1))}function qe(t,n,e,r,i){return i(t,function(t,i,o){e=r?(r=!1,t):n(e,t,i,o)}),e}function Ye(t,n,e){var r=-1,i=t.length;n=null==n?0:+n||0,0>n&&(n=-n>i?0:i+n),e="undefined"==typeof e||e>i?i:+e||0,0>e&&(e+=i),i=n>e?0:e-n>>>0,n>>>=0;for(var o=$u(i);++r<i;)o[r]=t[r+n];return o}function Xe(t,n){var e;return be(t,function(t,r,i){return e=n(t,r,i),!e}),!!e}function He(t,n){var e=t.length;for(t.sort(n);e--;)t[e]=t[e].value;return t}function Ke(t,n,e){var r=-1,i=t.length,o=Pr(i)?$u(i):[];return be(t,function(t){for(var e=n.length,i=$u(e);e--;)i[e]=null==t?w:t[n[e]];o[++r]={criteria:i,index:r,value:t}}),He(o,function(t,n){return f(t,n,e)})}function Ge(t,e){var r=-1,i=xr(),o=t.length,u=i==n,a=u&&o>=200,s=a?qa():null,f=[];s?(i=Kn,u=!1):(a=!1,s=e?[]:f);t:for(;++r<o;){var l=t[r],c=e?e(l,r,t):l;if(u&&l===l){for(var h=s.length;h--;)if(s[h]===c)continue t;e&&s.push(c),f.push(l)}else i(s,c,0)<0&&((e||a)&&s.push(c),f.push(l))}return f}function Je(t,n){for(var e=-1,r=n.length,i=$u(r);++e<r;)i[e]=t[n[e]];return i}function Qe(t,n){var e=t;e instanceof tn&&(e=e.value());for(var r=-1,i=n.length;++r<i;){var o=[e],u=n[r];va.apply(o,u.args),e=u.func.apply(u.thisArg,o)}return e}function Ze(t,n,e){var r=0,i=t?t.length:r;if("number"==typeof n&&n===n&&Na>=i){for(;i>r;){var o=r+i>>>1,u=t[o];(e?n>=u:n>u)?r=o+1:i=o}return i}return tr(t,n,Cu,e)}function tr(t,n,e,r){n=e(n);for(var i=0,o=t?t.length:0,u=n!==n,a="undefined"==typeof n;o>i;){var s=da((i+o)/2),f=e(t[s]),l=f===f;if(u)var c=l||r;else c=a?l&&(r||"undefined"!=typeof f):r?n>=f:n>f;c?i=s+1:o=s}return Pa(o,Ba)}function nr(t,n,e){if("function"!=typeof t)return Cu;if("undefined"==typeof n)return t;switch(e){case 1:return function(e){return t.call(n,e)};case 3:return function(e,r,i){return t.call(n,e,r,i)};case 4:return function(e,r,i,o){return t.call(n,e,r,i,o)};case 5:return function(e,r,i,o,u){return t.call(n,e,r,i,o,u)}}return function(){return t.apply(n,arguments)}}function er(t){return ca.call(t,0)}function rr(t,n,e){for(var r=e.length,i=-1,o=Ia(t.length-r,0),u=-1,a=n.length,s=$u(o+a);++u<a;)s[u]=n[u];for(;++i<r;)s[e[i]]=t[i];for(;o--;)s[u++]=t[i++];return s}function ir(t,n,e){for(var r=-1,i=e.length,o=-1,u=Ia(t.length-i,0),a=-1,s=n.length,f=$u(u+s);++o<u;)f[o]=t[o];for(var l=o;++a<s;)f[l+a]=n[a];for(;++r<i;)f[l+e[r]]=t[o++];return f}function or(t,n){return function(e,r,i){var o=n?n():{};if(r=br(r,i,3),ns(e))for(var u=-1,a=e.length;++u<a;){var s=e[u];t(o,s,r(s,u,e),e)}else be(e,function(n,e,i){t(o,n,r(n,e,i),i)});return o}}function ur(t){return function(){var n=arguments,e=n.length,r=n[0];if(2>e||null==r)return r;var i=n[e-2],o=n[e-1],u=n[3];e>3&&"function"==typeof i?(i=nr(i,o,5),e-=2):(i=e>2&&"function"==typeof o?o:null,e-=i?1:0),u&&Ir(n[1],n[2],u)&&(i=3==e?null:i,e=2);for(var a=0;++a<e;){var s=n[a];s&&t(r,s,i)}return r}}function ar(t,n){function e(){return(this instanceof e?r:t).apply(n,arguments)}var r=lr(t);return e}function sr(t){return function(){var n=arguments.length,e=n,r=t?n-1:0;if(!n)return function(){return arguments[0]};for(var i=$u(n);e--;)if(i[e]=arguments[e],"function"!=typeof i[e])throw new Zu(L);return function(){for(var e=r,o=i[e].apply(this,arguments);t?e--:++e<n;)o=i[e].call(this,o);return o}}}function fr(t){return function(n){for(var e=-1,r=Su(cu(n)),i=r.length,o="";++e<i;)o=t(o,r[e],e);return o}}function lr(t){return function(){var n=za(t.prototype),e=t.apply(n,arguments);return Oo(e)?e:n}}function cr(t,n){return function(e,r,i){i&&Ir(e,r,i)&&(r=null);var u=br(),a=null==r;if(u===ve&&a||(a=!1,r=u(r,i,3)),a){var s=ns(e);if(s||!Bo(e))return t(s?e:Br(e));r=o}return mr(e,r,n)}}function hr(t,n,e,r,i,o,u,a,s,f){function l(){for(var b=arguments.length,x=b,w=$u(b);x--;)w[x]=arguments[x];if(r&&(w=rr(w,r,i)),o&&(w=ir(w,o,u)),d||y){var E=l.placeholder,A=v(w,E);if(b-=A.length,f>b){var S=a?Zn(a):null,I=Ia(f-b,0),C=d?A:null,k=d?null:A,T=d?w:null,F=d?null:w;n|=d?P:O,n&=~(d?O:P),g||(n&=~(R|j));var W=hr(t,n,e,T,C,F,k,S,s,I);return W.placeholder=E,W}}var U=h?e:this;return p&&(t=U[m]),a&&(w=Fr(w,a)),c&&s<w.length&&(w.length=s),(this instanceof l?_||lr(t):t).apply(U,w)}var c=n&k,h=n&R,p=n&j,d=n&S,g=n&A,y=n&I,_=!p&&lr(t),m=t;return l}function pr(t,n,e){var r=t.length;if(n=+n,r>=n||!Aa(n))return"";var i=n-r;return e=null==e?" ":e+"",mu(e,ha(i/e.length)).slice(0,i)}function dr(t,n,e,r){function i(){for(var n=-1,a=arguments.length,s=-1,f=r.length,l=$u(a+f);++s<f;)l[s]=r[s];for(;a--;)l[s++]=arguments[++n];return(this instanceof i?u:t).apply(o?e:this,l)}var o=n&R,u=lr(t);return i}function gr(t,n,e,r,i,o,u,a){var s=n&j;if(!s&&"function"!=typeof t)throw new Zu(L);var f=r?r.length:0;if(f||(n&=~(P|O),r=i=null),f-=i?i.length:0,n&O){var l=r,c=i;r=i=null}var h=!s&&Ya(t),p=[t,n,e,r,i,l,c,o,u,a];if(h&&h!==!0&&(Cr(p,h),n=p[1],a=p[9]),p[9]=null==a?s?0:t.length:Ia(a-f,0)||0,n==R)var d=ar(p[0],p[2]);else d=n!=P&&n!=(R|P)||p[4].length?hr.apply(w,p):dr.apply(w,p);var g=h?$a:Xa;return g(d,p)}function vr(t,n,e,r,i,o,u){var a=-1,s=t.length,f=n.length,l=!0;if(s!=f&&!(i&&f>s))return!1;for(;l&&++a<s;){var c=t[a],h=n[a];if(l=w,r&&(l=i?r(h,c,a):r(c,h,a)),"undefined"==typeof l)if(i)for(var p=f;p--&&(h=n[p],!(l=c&&c===h||e(c,h,r,i,o,u))););else l=c&&c===h||e(c,h,r,i,o,u)}return!!l}function yr(t,n,e){switch(e){case $:case q:return+t==+n;case Y:return t.name==n.name&&t.message==n.message;case K:return t!=+t?n!=+n:0==t?1/t==1/n:t==+n;case J:case Z:return t==n+""}return!1}function _r(t,n,e,r,i,o,u){var a=us(t),s=a.length,f=us(n),l=f.length;if(s!=l&&!i)return!1;for(var c,h=-1;++h<s;){var p=a[h],d=oa.call(n,p);if(d){var g=t[p],v=n[p];d=w,r&&(d=i?r(v,g,p):r(g,v,p)),"undefined"==typeof d&&(d=g&&g===v||e(g,v,r,i,o,u))}if(!d)return!1;c||(c="constructor"==p)}if(!c){var y=t.constructor,_=n.constructor;if(y!=_&&"constructor"in t&&"constructor"in n&&!("function"==typeof y&&y instanceof y&&"function"==typeof _&&_ instanceof _))return!1}return!0}function mr(t,n,e){var r=e?Wa:Fa,i=r,o=i;return be(t,function(t,u,a){var s=n(t,u,a);((e?i>s:s>i)||s===r&&s===o)&&(i=s,o=t)}),o}function br(t,n,e){var r=g.callback||Pu;return r=r===Pu?ve:r,e?r(t,n,e):r}function xr(t,e,r){var i=g.indexOf||Zr;return i=i===Zr?n:i,t?i(t,e,r):i}function wr(t,n,e){for(var r=-1,i=e?e.length:0;++r<i;){var o=e[r],u=o.size;switch(o.type){case"drop":t+=u;break;case"dropRight":n-=u;break;case"take":n=Pa(n,t+u);break;case"takeRight":t=Ia(t,n-u)}}return{start:t,end:n}}function Er(t){var n=t.length,e=new t.constructor(n);return n&&"string"==typeof t[0]&&oa.call(t,"index")&&(e.index=t.index,e.input=t.input),e}function Rr(t){var n=t.constructor;return"function"==typeof n&&n instanceof n||(n=Gu),new n}function jr(t,n,e){var r=t.constructor;switch(n){case nn:return er(t);case $:case q:return new r(+t);case en:case rn:case on:case un:case an:case sn:case fn:case ln:case cn:var i=t.buffer;return new r(e?er(i):i,t.byteOffset,t.length);case K:case Z:return new r(t);case J:var o=new r(t.source,En.exec(t));o.lastIndex=t.lastIndex}return o}function Ar(t){var n=g.support,e=!(n.funcNames?t.name:n.funcDecomp);if(!e){var r=ra.call(t);n.funcNames||(e=!Rn.test(r)),e||(e=Cn.test(r)||To(t),$a(t,e))}return e}function Sr(t,n){return t=+t,n=null==n?La:n,t>-1&&t%1==0&&n>t}function Ir(t,n,e){if(!Oo(e))return!1;var r=typeof n;if("number"==r)var i=e.length,o=Pr(i)&&Sr(n,i);else o="string"==r&&n in e;if(o){var u=e[n];return t===t?t===u:u!==u}return!1}function Pr(t){return"number"==typeof t&&t>-1&&t%1==0&&La>=t}function Or(t){return t===t&&(0===t?1/t>0:!Oo(t))}function Cr(t,n){var e=t[1],r=n[1],i=e|r,o=k|C,u=R|j,a=o|u|A|I,s=e&k&&!(r&k),f=e&C&&!(r&C),l=(f?t:n)[7],c=(s?t:n)[8],h=!(e>=C&&r>u||e>u&&r>=C),p=i>=o&&a>=i&&(C>e||(f||s)&&l.length<=c);if(!h&&!p)return t;r&R&&(t[2]=n[2],i|=e&R?0:A);var d=n[3];if(d){var g=t[3];t[3]=g?rr(g,d,n[4]):Zn(d),t[4]=g?v(t[3],M):Zn(n[4])}return d=n[5],d&&(g=t[5],t[5]=g?ir(g,d,n[6]):Zn(d),t[6]=g?v(t[5],M):Zn(n[6])),d=n[7],d&&(t[7]=Zn(d)),r&k&&(t[8]=null==t[8]?n[8]:Pa(t[8],n[8])),null==t[9]&&(t[9]=n[9]),t[0]=n[0],t[1]=i,t}function kr(t,n){t=Nr(t);for(var e=-1,r=n.length,i={};++e<r;){var o=n[e];o in t&&(i[o]=t[o])}return i}function Tr(t,n){var e={};return Pe(t,function(t,r,i){n(t,r,i)&&(e[r]=t)}),e}function Fr(t,n){for(var e=t.length,r=Pa(n.length,e),i=Zn(t);r--;){var o=n[r];t[r]=Sr(o,e)?i[o]:w}return t}function Wr(t){{var n;g.support}if(!d(t)||aa.call(t)!=G||!oa.call(t,"constructor")&&(n=t.constructor,"function"==typeof n&&!(n instanceof n)))return!1;var e;return Pe(t,function(t,n){e=n}),"undefined"==typeof e||oa.call(t,e)}function Ur(t){for(var n=Zo(t),e=n.length,r=e&&t.length,i=g.support,o=r&&Pr(r)&&(ns(t)||i.nonEnumArgs&&Eo(t)),u=-1,a=[];++u<e;){var s=n[u];(o&&Sr(s,r)||oa.call(t,s))&&a.push(s)}return a}function Br(t){return null==t?[]:Pr(t.length)?Oo(t)?t:Gu(t):uu(t)}function Nr(t){return Oo(t)?t:Gu(t)}function Dr(t){return t instanceof tn?t.clone():new Q(t.__wrapped__,t.__chain__,Zn(t.__actions__))}function Lr(t,n,e){n=(e?Ir(t,n,e):null==n)?1:Ia(+n||1,1);for(var r=0,i=t?t.length:0,o=-1,u=$u(ha(i/n));i>r;)u[++o]=Ye(t,r,r+=n);return u}function Mr(t){for(var n=-1,e=t?t.length:0,r=-1,i=[];++n<e;){var o=t[n];o&&(i[++r]=o)}return i}function Vr(){for(var t=arguments,n=-1,e=t.length;++n<e;){var r=t[n];if(ns(r)||Eo(r))break}return me(r,Ae(t,!1,!0,++n))}function zr(t,n,e){var r=t?t.length:0;return r?((e?Ir(t,n,e):null==n)&&(n=1),Ye(t,0>n?0:n)):[]}function $r(t,n,e){var r=t?t.length:0;return r?((e?Ir(t,n,e):null==n)&&(n=1),n=r-(+n||0),Ye(t,0,0>n?0:n)):[]}function qr(t,n,e){var r=t?t.length:0;if(!r)return[];for(n=br(n,e,3);r--&&n(t[r],r,t););return Ye(t,0,r+1)}function Yr(t,n,e){var r=t?t.length:0;if(!r)return[];var i=-1;for(n=br(n,e,3);++i<r&&n(t[i],i,t););return Ye(t,i)}function Xr(t,n,e,r){var i=t?t.length:0;return i?(e&&"number"!=typeof e&&Ir(t,n,e)&&(e=0,r=i),Ee(t,n,e,r)):[]}function Hr(t,n,e){var r=-1,i=t?t.length:0;for(n=br(n,e,3);++r<i;)if(n(t[r],r,t))return r;return-1}function Kr(t,n,e){var r=t?t.length:0;for(n=br(n,e,3);r--;)if(n(t[r],r,t))return r;return-1}function Gr(t){return t?t[0]:w}function Jr(t,n,e){var r=t?t.length:0;return e&&Ir(t,n,e)&&(n=!1),r?Ae(t,n,!1,0):[]}function Qr(t){var n=t?t.length:0;return n?Ae(t,!0,!1,0):[]}function Zr(t,e,r){var i=t?t.length:0;if(!i)return-1;if("number"==typeof r)r=0>r?Ia(i+r,0):r;else if(r){var o=Ze(t,e),u=t[o];return(e===e?e===u:u!==u)?o:-1}return n(t,e,r||0)}function ti(t){return $r(t,1)}function ni(){for(var t=[],e=-1,r=arguments.length,i=[],o=xr(),u=o==n;++e<r;){var a=arguments[e];(ns(a)||Eo(a))&&(t.push(a),i.push(u&&a.length>=120?qa(e&&a):null))}r=t.length;var s=t[0],f=-1,l=s?s.length:0,c=[],h=i[0];t:for(;++f<l;)if(a=s[f],(h?Kn(h,a):o(c,a,0))<0){for(e=r;--e;){var p=i[e];if((p?Kn(p,a):o(t[e],a,0))<0)continue t}h&&h.push(a),c.push(a)}return c}function ei(t){var n=t?t.length:0;return n?t[n-1]:w}function ri(t,n,e){var r=t?t.length:0;if(!r)return-1;var i=r;if("number"==typeof e)i=(0>e?Ia(r+e,0):Pa(e||0,r-1))+1;else if(e){i=Ze(t,n,!0)-1;var o=t[i];return(n===n?n===o:o!==o)?i:-1}if(n!==n)return p(t,i,!0);for(;i--;)if(t[i]===n)return i;return-1}function ii(){var t=arguments,n=t[0];if(!n||!n.length)return n;for(var e=0,r=xr(),i=t.length;++e<i;)for(var o=0,u=t[e];(o=r(n,u,o))>-1;)ba.call(n,o,1);return n}function oi(t){return ze(t||[],Ae(arguments,!1,!1,1))}function ui(t,n,e){var r=-1,i=t?t.length:0,o=[];for(n=br(n,e,3);++r<i;){var u=t[r];n(u,r,t)&&(o.push(u),ba.call(t,r--,1),i--)}return o}function ai(t){return zr(t,1)}function si(t,n,e){var r=t?t.length:0;return r?(e&&"number"!=typeof e&&Ir(t,n,e)&&(n=0,e=r),Ye(t,n,e)):[]}function fi(t,n,e,r){var i=br(e);return i===ve&&null==e?Ze(t,n):tr(t,n,i(e,r,1))}function li(t,n,e,r){var i=br(e);return i===ve&&null==e?Ze(t,n,!0):tr(t,n,i(e,r,1),!0)}function ci(t,n,e){var r=t?t.length:0;return r?((e?Ir(t,n,e):null==n)&&(n=1),Ye(t,0,0>n?0:n)):[]}function hi(t,n,e){var r=t?t.length:0;return r?((e?Ir(t,n,e):null==n)&&(n=1),n=r-(+n||0),Ye(t,0>n?0:n)):[]}function pi(t,n,e){var r=t?t.length:0;if(!r)return[];for(n=br(n,e,3);r--&&n(t[r],r,t););return Ye(t,r+1)}function di(t,n,e){var r=t?t.length:0;if(!r)return[];var i=-1;for(n=br(n,e,3);++i<r&&n(t[i],i,t););return Ye(t,0,i)}function gi(){return Ge(Ae(arguments,!1,!0,0))}function vi(t,e,r,i){var o=t?t.length:0;if(!o)return[];null!=e&&"boolean"!=typeof e&&(i=r,r=Ir(t,e,i)?null:e,e=!1);var u=br();return(u!==ve||null!=r)&&(r=u(r,i,3)),e&&xr()==n?y(t,r):Ge(t,r)}function yi(t){for(var n=-1,e=(t&&t.length&&oe(ie(t,ia)))>>>0,r=$u(e);++n<e;)r[n]=ie(t,Ve(n));return r}function _i(t){return me(t,Ye(arguments,1))}function mi(){for(var t=-1,n=arguments.length;++t<n;){var e=arguments[t];if(ns(e)||Eo(e))var r=r?me(r,e).concat(me(e,r)):e}return r?Ge(r):[]}function bi(){for(var t=arguments.length,n=$u(t);t--;)n[t]=arguments[t];return yi(n)}function xi(t,n){var e=-1,r=t?t.length:0,i={};for(!r||n||ns(t[0])||(n=[]);++e<r;){var o=t[e];n?i[o]=n[e]:o&&(i[o[0]]=o[1])}return i}function wi(t){var n=g(t);return n.__chain__=!0,n}function Ei(t,n,e){return n.call(e,t),t}function Ri(t,n,e){return n.call(e,t)}function ji(){return wi(this)}function Ai(){return new Q(this.value(),this.__chain__)}function Si(t){for(var n,e=this;e instanceof H;){var r=Dr(e);n?i.__wrapped__=r:n=r;var i=r;e=e.__wrapped__}return i.__wrapped__=t,n}function Ii(){var t=this.__wrapped__;return t instanceof tn?(this.__actions__.length&&(t=new tn(this)),new Q(t.reverse(),this.__chain__)):this.thru(function(t){return t.reverse()})}function Pi(){return this.value()+""}function Oi(){return Qe(this.__wrapped__,this.__actions__)}function Ci(t){var n=t?t.length:0;return Pr(n)&&(t=Br(t)),pe(t,Ae(arguments,!1,!1,1))}function ki(t,n,e){var r=ns(t)?ee:we;return("function"!=typeof n||"undefined"!=typeof e)&&(n=br(n,e,3)),r(t,n)}function Ti(t,n,e){var r=ns(t)?re:Re;return n=br(n,e,3),r(t,n)}function Fi(t,n,e){if(ns(t)){var r=Hr(t,n,e);return r>-1?t[r]:w}return n=br(n,e,3),je(t,n,be)}function Wi(t,n,e){return n=br(n,e,3),je(t,n,xe)}function Ui(t,n){return Fi(t,Ne(n))}function Bi(t,n,e){return"function"==typeof n&&"undefined"==typeof e&&ns(t)?te(t,n):be(t,nr(n,e,3))}function Ni(t,n,e){return"function"==typeof n&&"undefined"==typeof e&&ns(t)?ne(t,n):xe(t,nr(n,e,3))}function Di(t,n,e){var r=t?t.length:0;return Pr(r)||(t=uu(t),r=t.length),r?(e="number"==typeof e?0>e?Ia(r+e,0):e||0:0,"string"==typeof t||!ns(t)&&Bo(t)?r>e&&t.indexOf(n,e)>-1:xr(t,n,e)>-1):!1}function Li(t,n){return Te(t,n,Ye(arguments,2))}function Mi(t,n,e){var r=ns(t)?ie:Be;return n=br(n,e,3),r(t,n)}function Vi(t,n){return Mi(t,Ve(n))}function zi(t,n,e,r){var i=ns(t)?ae:qe;return i(t,br(n,r,4),e,arguments.length<3,be)}function $i(t,n,e,r){var i=ns(t)?se:qe;return i(t,br(n,r,4),e,arguments.length<3,xe)}function qi(t,n,e){var r=ns(t)?re:Re;return n=br(n,e,3),r(t,function(t,e,r){return!n(t,e,r)})}function Yi(t,n,e){if(e?Ir(t,n,e):null==n){t=Br(t);var r=t.length;return r>0?t[$e(0,r-1)]:w}var i=Xi(t);return i.length=Pa(0>n?0:+n||0,i.length),i}function Xi(t){t=Br(t);for(var n=-1,e=t.length,r=$u(e);++n<e;){var i=$e(0,n);n!=i&&(r[n]=r[i]),r[i]=t[n]}return r}function Hi(t){var n=t?t.length:0;return Pr(n)?n:us(t).length}function Ki(t,n,e){var r=ns(t)?fe:Xe;return("function"!=typeof n||"undefined"!=typeof e)&&(n=br(n,e,3)),r(t,n)}function Gi(t,n,e){if(null==t)return[];var r=-1,i=t.length,o=Pr(i)?$u(i):[];return e&&Ir(t,n,e)&&(n=null),n=br(n,e,3),be(t,function(t,e,i){o[++r]={criteria:n(t,e,i),index:r,value:t}}),He(o,s)}function Ji(t){if(null==t)return[];var n=arguments,e=n[3];return e&&Ir(n[1],n[2],e)&&(n=[t,n[1]]),Ke(t,Ae(n,!1,!1,1),[])}function Qi(t,n,e,r){return null==t?[]:(r&&Ir(n,e,r)&&(e=null),ns(n)||(n=null==n?[]:[n]),ns(e)||(e=null==e?[]:[e]),Ke(t,n,e))}function Zi(t,n){return Ti(t,Ne(n))}function to(t,n){if("function"!=typeof n){if("function"!=typeof t)throw new Zu(L);var e=t;t=n,n=e}return t=Aa(t=+t)?t:0,function(){return--t<1?n.apply(this,arguments):void 0}}function no(t,n,e){return e&&Ir(t,n,e)&&(n=null),n=t&&null==n?t.length:Ia(+n||0,0),gr(t,k,null,null,null,null,n)}function eo(t,n){var e;if("function"!=typeof n){if("function"!=typeof t)throw new Zu(L);var r=t;t=n,n=r}return function(){return--t>0?e=n.apply(this,arguments):n=null,e}}function ro(t,n){var e=R;if(arguments.length>2){var r=Ye(arguments,2),i=v(r,ro.placeholder);e|=P}return gr(t,e,n,r,i)}function io(t){return ge(t,arguments.length>1?Ae(arguments,!1,!1,1):Go(t))}function oo(t,n){var e=R|j;if(arguments.length>2){var r=Ye(arguments,2),i=v(r,oo.placeholder);e|=P}return gr(n,e,t,r,i)}function uo(t,n,e){e&&Ir(t,n,e)&&(n=null);var r=gr(t,S,null,null,null,null,null,n);return r.placeholder=uo.placeholder,r}function ao(t,n,e){e&&Ir(t,n,e)&&(n=null);var r=gr(t,I,null,null,null,null,null,n);return r.placeholder=ao.placeholder,r}function so(t,n,e){function r(){h&&pa(h),s&&pa(s),s=h=p=w}function i(){var e=n-(Qa()-l);if(0>=e||e>n){s&&pa(s);var r=p;s=h=p=w,r&&(d=Qa(),f=t.apply(c,a),h||s||(a=c=null))}else h=ma(i,e)}function o(){h&&pa(h),s=h=p=w,(v||g!==n)&&(d=Qa(),f=t.apply(c,a),h||s||(a=c=null))}function u(){if(a=arguments,l=Qa(),c=this,p=v&&(h||!y),g===!1)var e=y&&!h;else{s||y||(d=l);var r=g-(l-d),u=0>=r||r>g;u?(s&&(s=pa(s)),d=l,f=t.apply(c,a)):s||(s=ma(o,r))}return u&&h?h=pa(h):h||n===g||(h=ma(i,n)),e&&(u=!0,f=t.apply(c,a)),!u||h||s||(a=c=null),f}var a,s,f,l,c,h,p,d=0,g=!1,v=!0;if("function"!=typeof t)throw new Zu(L);if(n=0>n?0:+n||0,e===!0){var y=!0;v=!1}else Oo(e)&&(y=e.leading,g="maxWait"in e&&Ia(+e.maxWait||0,n),v="trailing"in e?e.trailing:v);return u.cancel=r,u}function fo(t){return _e(t,1,arguments,1)}function lo(t,n){return _e(t,n,arguments,2)}function co(t,n){if("function"!=typeof t||n&&"function"!=typeof n)throw new Zu(L);var e=function(){var r=arguments,i=e.cache,o=n?n.apply(this,r):r[0];if(i.has(o))return i.get(o);var u=t.apply(this,r);return i.set(o,u),u};return e.cache=new co.Cache,e}function ho(t){if("function"!=typeof t)throw new Zu(L);return function(){return!t.apply(this,arguments)}}function po(t){return eo(t,2)}function go(t){var n=Ye(arguments,1),e=v(n,go.placeholder);return gr(t,P,null,n,e)}function vo(t){var n=Ye(arguments,1),e=v(n,vo.placeholder);return gr(t,O,null,n,e)}function yo(t){var n=Ae(arguments,!1,!1,1);return gr(t,C,null,null,null,n)}function _o(t){if("function"!=typeof t)throw new Zu(L);return function(n){return t.apply(this,n)}}function mo(t,n,e){var r=!0,i=!0;if("function"!=typeof t)throw new Zu(L);return e===!1?r=!1:Oo(e)&&(r="leading"in e?!!e.leading:r,i="trailing"in e?!!e.trailing:i),Dn.leading=r,Dn.maxWait=+n,Dn.trailing=i,so(t,n,Dn)}function bo(t,n){return n=null==n?Cu:n,gr(n,P,null,[t],[])}function xo(t,n,e,r){return n&&"boolean"!=typeof n&&Ir(t,n,e)?n=!1:"function"==typeof n&&(r=e,e=n,n=!1),e="function"==typeof e&&nr(e,r,1),ye(t,n,e)}function wo(t,n,e){return n="function"==typeof n&&nr(n,e,1),ye(t,!0,n)}function Eo(t){var n=d(t)?t.length:w;return Pr(n)&&aa.call(t)==V||!1}function Ro(t){return t===!0||t===!1||d(t)&&aa.call(t)==$||!1}function jo(t){return d(t)&&aa.call(t)==q||!1}function Ao(t){return t&&1===t.nodeType&&d(t)&&aa.call(t).indexOf("Element")>-1||!1}function So(t){if(null==t)return!0;var n=t.length;return Pr(n)&&(ns(t)||Bo(t)||Eo(t)||d(t)&&rs(t.splice))?!n:!us(t).length}function Io(t,n,e,r){if(e="function"==typeof e&&nr(e,r,3),!e&&Or(t)&&Or(n))return t===n;var i=e?e(t,n):w;return"undefined"==typeof i?Fe(t,n,e):!!i}function Po(t){return d(t)&&"string"==typeof t.message&&aa.call(t)==Y||!1}function Oo(t){var n=typeof t;return"function"==n||t&&"object"==n||!1}function Co(t,n,e,r){var i=us(n),o=i.length;
if(e="function"==typeof e&&nr(e,r,3),!e&&1==o){var u=i[0],a=n[u];if(Or(a))return null!=t&&a===t[u]&&oa.call(t,u)}for(var s=$u(o),f=$u(o);o--;)a=s[o]=n[i[o]],f[o]=Or(a);return Ue(t,i,s,f,e)}function ko(t){return Wo(t)&&t!=+t}function To(t){return null==t?!1:aa.call(t)==X?fa.test(ra.call(t)):d(t)&&An.test(t)||!1}function Fo(t){return null===t}function Wo(t){return"number"==typeof t||d(t)&&aa.call(t)==K||!1}function Uo(t){return d(t)&&aa.call(t)==J||!1}function Bo(t){return"string"==typeof t||d(t)&&aa.call(t)==Z||!1}function No(t){return d(t)&&Pr(t.length)&&Bn[aa.call(t)]||!1}function Do(t){return"undefined"==typeof t}function Lo(t){var n=t?t.length:0;return Pr(n)?n?Zn(t):[]:uu(t)}function Mo(t){return de(t,Zo(t))}function Vo(t,n,e){var r=za(t);return e&&Ir(t,n,e)&&(n=null),n?de(n,r,us(n)):r}function zo(t){if(null==t)return t;var n=Zn(arguments);return n.push(le),os.apply(w,n)}function $o(t,n,e){return n=br(n,e,3),je(t,n,Oe,!0)}function qo(t,n,e){return n=br(n,e,3),je(t,n,Ce,!0)}function Yo(t,n,e){return("function"!=typeof n||"undefined"!=typeof e)&&(n=nr(n,e,3)),Se(t,n,Zo)}function Xo(t,n,e){return n=nr(n,e,3),Ie(t,n,Zo)}function Ho(t,n,e){return("function"!=typeof n||"undefined"!=typeof e)&&(n=nr(n,e,3)),Oe(t,n)}function Ko(t,n,e){return n=nr(n,e,3),Ie(t,n,us)}function Go(t){return ke(t,Zo(t))}function Jo(t,n){return t?oa.call(t,n):!1}function Qo(t,n,e){e&&Ir(t,n,e)&&(n=null);for(var r=-1,i=us(t),o=i.length,u={};++r<o;){var a=i[r],s=t[a];n?oa.call(u,s)?u[s].push(a):u[s]=[a]:u[s]=a}return u}function Zo(t){if(null==t)return[];Oo(t)||(t=Gu(t));var n=t.length;n=n&&Pr(n)&&(ns(t)||Va.nonEnumArgs&&Eo(t))&&n||0;for(var e=t.constructor,r=-1,i="function"==typeof e&&e.prototype===t,o=$u(n),u=n>0;++r<n;)o[r]=r+"";for(var a in t)u&&Sr(a,n)||"constructor"==a&&(i||!oa.call(t,a))||o.push(a);return o}function tu(t,n,e){var r={};return n=br(n,e,3),Oe(t,function(t,e,i){r[e]=n(t,e,i)}),r}function nu(t,n,e){if(null==t)return{};if("function"!=typeof n){var r=ie(Ae(arguments,!1,!1,1),Qu);return kr(t,me(Zo(t),r))}return n=nr(n,e,3),Tr(t,function(t,e,r){return!n(t,e,r)})}function eu(t){for(var n=-1,e=us(t),r=e.length,i=$u(r);++n<r;){var o=e[n];i[n]=[o,t[o]]}return i}function ru(t,n,e){return null==t?{}:"function"==typeof n?Tr(t,nr(n,e,3)):kr(t,Ae(arguments,!1,!1,1))}function iu(t,n,e){var r=null==t?w:t[n];return"undefined"==typeof r&&(r=e),rs(r)?r.call(t):r}function ou(t,n,e,r){var i=ns(t)||No(t);if(n=br(n,r,4),null==e)if(i||Oo(t)){var o=t.constructor;e=i?ns(t)?new o:[]:za(rs(o)&&o.prototype)}else e={};return(i?te:Oe)(t,function(t,r,i){return n(e,t,r,i)}),e}function uu(t){return Je(t,us(t))}function au(t){return Je(t,Zo(t))}function su(t,n,e){return n=+n||0,"undefined"==typeof e?(e=n,n=0):e=+e||0,t>=n&&e>t}function fu(t,n,e){e&&Ir(t,n,e)&&(n=e=null);var r=null==t,i=null==n;if(null==e&&(i&&"boolean"==typeof t?(e=t,t=1):"boolean"==typeof n&&(e=n,i=!0)),r&&i&&(n=1,i=!1),t=+t||0,i?(n=t,t=0):n=+n||0,e||t%1||n%1){var o=Ta();return Pa(t+o*(n-t+parseFloat("1e-"+((o+"").length-1))),n)}return $e(t,n)}function lu(t){return t=i(t),t&&t.charAt(0).toUpperCase()+t.slice(1)}function cu(t){return t=i(t),t&&t.replace(Sn,l)}function hu(t,n,e){t=i(t),n+="";var r=t.length;return e=("undefined"==typeof e?r:Pa(0>e?0:+e||0,r))-n.length,e>=0&&t.indexOf(n,e)==e}function pu(t){return t=i(t),t&&_n.test(t)?t.replace(vn,c):t}function du(t){return t=i(t),t&&On.test(t)?t.replace(Pn,"\\$&"):t}function gu(t,n,e){t=i(t),n=+n;var r=t.length;if(r>=n||!Aa(n))return t;var o=(n-r)/2,u=da(o),a=ha(o);return e=pr("",a,e),e.slice(0,u)+t+e}function vu(t,n,e){return t=i(t),t&&pr(t,n,e)+t}function yu(t,n,e){return t=i(t),t&&t+pr(t,n,e)}function _u(t,n,e){return e&&Ir(t,n,e)&&(n=0),ka(t,n)}function mu(t,n){var e="";if(t=i(t),n=+n,1>n||!t||!Aa(n))return e;do n%2&&(e+=t),n=da(n/2),t+=t;while(n);return e}function bu(t,n,e){return t=i(t),e=null==e?0:Pa(0>e?0:+e||0,t.length),t.lastIndexOf(n,e)==e}function xu(t,n,e){var r=g.templateSettings;e&&Ir(t,n,e)&&(n=e=null),t=i(t),n=he(he({},e||n),r,ce);var o,u,a=he(he({},n.imports),r.imports,ce),s=us(a),f=Je(a,s),l=0,c=n.interpolate||In,p="__p += '",d=Ju((n.escape||In).source+"|"+c.source+"|"+(c===xn?wn:In).source+"|"+(n.evaluate||In).source+"|$","g"),v="//# sourceURL="+("sourceURL"in n?n.sourceURL:"lodash.templateSources["+ ++Un+"]")+"\n";t.replace(d,function(n,e,r,i,a,s){return r||(r=i),p+=t.slice(l,s).replace(kn,h),e&&(o=!0,p+="' +\n__e("+e+") +\n'"),a&&(u=!0,p+="';\n"+a+";\n__p += '"),r&&(p+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),l=s+n.length,n}),p+="';\n";var y=n.variable;y||(p="with (obj) {\n"+p+"\n}\n"),p=(u?p.replace(hn,""):p).replace(pn,"$1").replace(dn,"$1;"),p="function("+(y||"obj")+") {\n"+(y?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(o?", __e = _.escape":"")+(u?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+p+"return __p\n}";var _=Iu(function(){return Xu(s,v+"return "+p).apply(w,f)});if(_.source=p,Po(_))throw _;return _}function wu(t,n,e){var r=t;return(t=i(t))?(e?Ir(r,n,e):null==n)?t.slice(_(t),m(t)+1):(n+="",t.slice(u(t,n),a(t,n)+1)):t}function Eu(t,n,e){var r=t;return t=i(t),t?t.slice((e?Ir(r,n,e):null==n)?_(t):u(t,n+"")):t}function Ru(t,n,e){var r=t;return t=i(t),t?(e?Ir(r,n,e):null==n)?t.slice(0,m(t)+1):t.slice(0,a(t,n+"")+1):t}function ju(t,n,e){e&&Ir(t,n,e)&&(n=null);var r=T,o=F;if(null!=n)if(Oo(n)){var u="separator"in n?n.separator:u;r="length"in n?+n.length||0:r,o="omission"in n?i(n.omission):o}else r=+n||0;if(t=i(t),r>=t.length)return t;var a=r-o.length;if(1>a)return o;var s=t.slice(0,a);if(null==u)return s+o;if(Uo(u)){if(t.slice(a).search(u)){var f,l,c=t.slice(0,a);for(u.global||(u=Ju(u.source,(En.exec(u)||"")+"g")),u.lastIndex=0;f=u.exec(c);)l=f.index;s=s.slice(0,null==l?a:l)}}else if(t.indexOf(u,a)!=a){var h=s.lastIndexOf(u);h>-1&&(s=s.slice(0,h))}return s+o}function Au(t){return t=i(t),t&&yn.test(t)?t.replace(gn,b):t}function Su(t,n,e){return e&&Ir(t,n,e)&&(n=null),t=i(t),t.match(n||Tn)||[]}function Iu(){for(var t=arguments[0],n=arguments.length,e=$u(n?n-1:0);--n>0;)e[n-1]=arguments[n];try{return t.apply(w,e)}catch(r){return Po(r)?r:new Yu(r)}}function Pu(t,n,e){return e&&Ir(t,n,e)&&(n=null),d(t)?ku(t):ve(t,n)}function Ou(t){return function(){return t}}function Cu(t){return t}function ku(t){return Ne(ye(t,!0))}function Tu(t,n){return De(t+"",ye(n,!0))}function Fu(t,n,e){if(null==e){var r=Oo(n),i=r&&us(n),o=i&&i.length&&ke(n,i);(o?o.length:r)||(o=!1,e=n,n=t,t=this)}o||(o=ke(n,us(n)));var u=!0,a=-1,s=rs(t),f=o.length;e===!1?u=!1:Oo(e)&&"chain"in e&&(u=e.chain);for(;++a<f;){var l=o[a],c=n[l];t[l]=c,s&&(t.prototype[l]=function(n){return function(){var e=this.__chain__;if(u||e){var r=t(this.__wrapped__);return(r.__actions__=Zn(this.__actions__)).push({func:n,args:arguments,thisArg:t}),r.__chain__=e,r}var i=[this.value()];return va.apply(i,arguments),n.apply(t,i)}}(c))}return t}function Wu(){return e._=sa,this}function Uu(){}function Bu(t){return Ve(t+"")}function Nu(t){return function(n){return null==t?w:t[n]}}function Du(t,n,e){e&&Ir(t,n,e)&&(n=e=null),t=+t||0,e=null==e?1:+e||0,null==n?(n=t,t=0):n=+n||0;for(var r=-1,i=Ia(ha((n-t)/(e||1)),0),o=$u(i);++r<i;)o[r]=t,t+=e;return o}function Lu(t,n,e){if(t=+t,1>t||!Aa(t))return[];var r=-1,i=$u(Pa(t,Ua));for(n=nr(n,e,1);++r<t;)Ua>r?i[r]=n(r):n(r);return i}function Mu(t){var n=++ua;return i(t)+n}function Vu(t,n){return t+n}function zu(t){ns(t)||(t=Br(t));for(var n=t.length,e=0;n--;)e+=+t[n]||0;return e}e=e?Jn.defaults(Gn.Object(),e,Jn.pick(Gn,Wn)):Gn;var $u=e.Array,qu=e.Date,Yu=e.Error,Xu=e.Function,Hu=e.Math,Ku=e.Number,Gu=e.Object,Ju=e.RegExp,Qu=e.String,Zu=e.TypeError,ta=$u.prototype,na=Gu.prototype,ea=(ea=e.window)&&ea.document,ra=Xu.prototype.toString,ia=Ve("length"),oa=na.hasOwnProperty,ua=0,aa=na.toString,sa=e._,fa=Ju("^"+du(aa).replace(/toString|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),la=To(la=e.ArrayBuffer)&&la,ca=To(ca=la&&new la(0).slice)&&ca,ha=Hu.ceil,pa=e.clearTimeout,da=Hu.floor,ga=To(ga=Gu.getPrototypeOf)&&ga,va=ta.push,ya=na.propertyIsEnumerable,_a=To(_a=e.Set)&&_a,ma=e.setTimeout,ba=ta.splice,xa=To(xa=e.Uint8Array)&&xa,wa=To(wa=e.WeakMap)&&wa,Ea=function(){try{var t=To(t=e.Float64Array)&&t,n=new t(new la(10),0,1)&&t}catch(r){}return n}(),Ra=To(Ra=$u.isArray)&&Ra,ja=To(ja=Gu.create)&&ja,Aa=e.isFinite,Sa=To(Sa=Gu.keys)&&Sa,Ia=Hu.max,Pa=Hu.min,Oa=To(Oa=qu.now)&&Oa,Ca=To(Ca=Ku.isFinite)&&Ca,ka=e.parseInt,Ta=Hu.random,Fa=Ku.NEGATIVE_INFINITY,Wa=Ku.POSITIVE_INFINITY,Ua=Hu.pow(2,32)-1,Ba=Ua-1,Na=Ua>>>1,Da=Ea?Ea.BYTES_PER_ELEMENT:0,La=Hu.pow(2,53)-1,Ma=wa&&new wa,Va=g.support={};!function(){Va.funcDecomp=!To(e.WinRTError)&&Cn.test(x),Va.funcNames="string"==typeof Xu.name;try{Va.dom=11===ea.createDocumentFragment().nodeType}catch(t){Va.dom=!1}try{Va.nonEnumArgs=!ya.call(arguments,1)}catch(t){Va.nonEnumArgs=!0}}(0,0),g.templateSettings={escape:mn,evaluate:bn,interpolate:xn,variable:"",imports:{_:g}};var za=function(){function t(){}return function(n){if(Oo(n)){t.prototype=n;var r=new t;t.prototype=null}return r||e.Object()}}(),$a=Ma?function(t,n){return Ma.set(t,n),t}:Cu;ca||(er=la&&xa?function(t){var n=t.byteLength,e=Ea?da(n/Da):0,r=e*Da,i=new la(n);if(e){var o=new Ea(i,0,e);o.set(new Ea(t,0,e))}return n!=r&&(o=new xa(i,r),o.set(new xa(t,r))),i}:Ou(null));var qa=ja&&_a?function(t){return new Hn(t)}:Ou(null),Ya=Ma?function(t){return Ma.get(t)}:Uu,Xa=function(){var t=0,n=0;return function(e,r){var i=Qa(),o=U-(i-n);if(n=i,o>0){if(++t>=W)return e}else t=0;return $a(e,r)}}(),Ha=or(function(t,n,e){oa.call(t,e)?++t[e]:t[e]=1}),Ka=or(function(t,n,e){oa.call(t,e)?t[e].push(n):t[e]=[n]}),Ga=or(function(t,n,e){t[e]=n}),Ja=or(function(t,n,e){t[e?0:1].push(n)},function(){return[[],[]]}),Qa=Oa||function(){return(new qu).getTime()},Za=sr(),ts=sr(!0),ns=Ra||function(t){return d(t)&&Pr(t.length)&&aa.call(t)==z||!1};Va.dom||(Ao=function(t){return t&&1===t.nodeType&&d(t)&&!is(t)||!1});var es=Ca||function(t){return"number"==typeof t&&Aa(t)},rs=r(/x/)||xa&&!r(xa)?function(t){return aa.call(t)==X}:r,is=ga?function(t){if(!t||aa.call(t)!=G)return!1;var n=t.valueOf,e=To(n)&&(e=ga(n))&&ga(e);return e?t==e||ga(t)==e:Wr(t)}:Wr,os=ur(he),us=Sa?function(t){if(t)var n=t.constructor,e=t.length;return"function"==typeof n&&n.prototype===t||"function"!=typeof t&&e&&Pr(e)?Ur(t):Oo(t)?Sa(t):[]}:Ur,as=ur(Le),ss=fr(function(t,n,e){return n=n.toLowerCase(),t+(e?n.charAt(0).toUpperCase()+n.slice(1):n)}),fs=fr(function(t,n,e){return t+(e?"-":"")+n.toLowerCase()});8!=ka(Fn+"08")&&(_u=function(t,n,e){return(e?Ir(t,n,e):null==n)?n=0:n&&(n=+n),t=wu(t),ka(t,n||(jn.test(t)?16:10))});var ls=fr(function(t,n,e){return t+(e?"_":"")+n.toLowerCase()}),cs=fr(function(t,n,e){return t+(e?" ":"")+(n.charAt(0).toUpperCase()+n.slice(1))}),hs=cr(oe),ps=cr(ue,!0);return g.prototype=H.prototype,Q.prototype=za(H.prototype),Q.prototype.constructor=Q,tn.prototype=za(H.prototype),tn.prototype.constructor=tn,zn.prototype["delete"]=$n,zn.prototype.get=qn,zn.prototype.has=Yn,zn.prototype.set=Xn,Hn.prototype.push=Qn,co.Cache=zn,g.after=to,g.ary=no,g.assign=os,g.at=Ci,g.before=eo,g.bind=ro,g.bindAll=io,g.bindKey=oo,g.callback=Pu,g.chain=wi,g.chunk=Lr,g.compact=Mr,g.constant=Ou,g.countBy=Ha,g.create=Vo,g.curry=uo,g.curryRight=ao,g.debounce=so,g.defaults=zo,g.defer=fo,g.delay=lo,g.difference=Vr,g.drop=zr,g.dropRight=$r,g.dropRightWhile=qr,g.dropWhile=Yr,g.fill=Xr,g.filter=Ti,g.flatten=Jr,g.flattenDeep=Qr,g.flow=Za,g.flowRight=ts,g.forEach=Bi,g.forEachRight=Ni,g.forIn=Yo,g.forInRight=Xo,g.forOwn=Ho,g.forOwnRight=Ko,g.functions=Go,g.groupBy=Ka,g.indexBy=Ga,g.initial=ti,g.intersection=ni,g.invert=Qo,g.invoke=Li,g.keys=us,g.keysIn=Zo,g.map=Mi,g.mapValues=tu,g.matches=ku,g.matchesProperty=Tu,g.memoize=co,g.merge=as,g.mixin=Fu,g.negate=ho,g.omit=nu,g.once=po,g.pairs=eu,g.partial=go,g.partialRight=vo,g.partition=Ja,g.pick=ru,g.pluck=Vi,g.property=Bu,g.propertyOf=Nu,g.pull=ii,g.pullAt=oi,g.range=Du,g.rearg=yo,g.reject=qi,g.remove=ui,g.rest=ai,g.shuffle=Xi,g.slice=si,g.sortBy=Gi,g.sortByAll=Ji,g.sortByOrder=Qi,g.spread=_o,g.take=ci,g.takeRight=hi,g.takeRightWhile=pi,g.takeWhile=di,g.tap=Ei,g.throttle=mo,g.thru=Ri,g.times=Lu,g.toArray=Lo,g.toPlainObject=Mo,g.transform=ou,g.union=gi,g.uniq=vi,g.unzip=yi,g.values=uu,g.valuesIn=au,g.where=Zi,g.without=_i,g.wrap=bo,g.xor=mi,g.zip=bi,g.zipObject=xi,g.backflow=ts,g.collect=Mi,g.compose=ts,g.each=Bi,g.eachRight=Ni,g.extend=os,g.iteratee=Pu,g.methods=Go,g.object=xi,g.select=Ti,g.tail=ai,g.unique=vi,Fu(g,g),g.add=Vu,g.attempt=Iu,g.camelCase=ss,g.capitalize=lu,g.clone=xo,g.cloneDeep=wo,g.deburr=cu,g.endsWith=hu,g.escape=pu,g.escapeRegExp=du,g.every=ki,g.find=Fi,g.findIndex=Hr,g.findKey=$o,g.findLast=Wi,g.findLastIndex=Kr,g.findLastKey=qo,g.findWhere=Ui,g.first=Gr,g.has=Jo,g.identity=Cu,g.includes=Di,g.indexOf=Zr,g.inRange=su,g.isArguments=Eo,g.isArray=ns,g.isBoolean=Ro,g.isDate=jo,g.isElement=Ao,g.isEmpty=So,g.isEqual=Io,g.isError=Po,g.isFinite=es,g.isFunction=rs,g.isMatch=Co,g.isNaN=ko,g.isNative=To,g.isNull=Fo,g.isNumber=Wo,g.isObject=Oo,g.isPlainObject=is,g.isRegExp=Uo,g.isString=Bo,g.isTypedArray=No,g.isUndefined=Do,g.kebabCase=fs,g.last=ei,g.lastIndexOf=ri,g.max=hs,g.min=ps,g.noConflict=Wu,g.noop=Uu,g.now=Qa,g.pad=gu,g.padLeft=vu,g.padRight=yu,g.parseInt=_u,g.random=fu,g.reduce=zi,g.reduceRight=$i,g.repeat=mu,g.result=iu,g.runInContext=x,g.size=Hi,g.snakeCase=ls,g.some=Ki,g.sortedIndex=fi,g.sortedLastIndex=li,g.startCase=cs,g.startsWith=bu,g.sum=zu,g.template=xu,g.trim=wu,g.trimLeft=Eu,g.trimRight=Ru,g.trunc=ju,g.unescape=Au,g.uniqueId=Mu,g.words=Su,g.all=ki,g.any=Ki,g.contains=Di,g.detect=Fi,g.foldl=zi,g.foldr=$i,g.head=Gr,g.include=Di,g.inject=zi,Fu(g,function(){var t={};return Oe(g,function(n,e){g.prototype[e]||(t[e]=n)}),t}(),!1),g.sample=Yi,g.prototype.sample=function(t){return this.__chain__||null!=t?this.thru(function(n){return Yi(n,t)}):Yi(this.value())},g.VERSION=E,te(["bind","bindKey","curry","curryRight","partial","partialRight"],function(t){g[t].placeholder=g}),te(["dropWhile","filter","map","takeWhile"],function(t,n){var e=n!=N,r=n==B;tn.prototype[t]=function(t,i){var o=this.__filtered__,u=o&&r?new tn(this):this.clone(),a=u.__iteratees__||(u.__iteratees__=[]);return u.__filtered__=o||e,a.push({done:!1,index:0,iteratee:br(t,i,1),type:n}),u}}),te(["drop","take"],function(t,n){var e="__"+t+"Count__",r=t+"While";tn.prototype[t]=function(r){r=null==r?1:Ia(da(r)||0,0);var i=this.clone();if(i.__filtered__){var o=i[e];i[e]=n?Pa(o,r):o+r}else{var u=i.__views__||(i.__views__=[]);u.push({size:r,type:t+(i.__dir__<0?"Right":"")})}return i},tn.prototype[t+"Right"]=function(n){return this.reverse()[t](n).reverse()},tn.prototype[t+"RightWhile"]=function(t,n){return this.reverse()[r](t,n).reverse()}}),te(["first","last"],function(t,n){var e="take"+(n?"Right":"");tn.prototype[t]=function(){return this[e](1).value()[0]}}),te(["initial","rest"],function(t,n){var e="drop"+(n?"":"Right");tn.prototype[t]=function(){return this[e](1)}}),te(["pluck","where"],function(t,n){var e=n?"filter":"map",r=n?Ne:Ve;tn.prototype[t]=function(t){return this[e](r(t))}}),tn.prototype.compact=function(){return this.filter(Cu)},tn.prototype.reject=function(t,n){return t=br(t,n,1),this.filter(function(n){return!t(n)})},tn.prototype.slice=function(t,n){t=null==t?0:+t||0;var e=0>t?this.takeRight(-t):this.drop(t);return"undefined"!=typeof n&&(n=+n||0,e=0>n?e.dropRight(-n):e.take(n-t)),e},tn.prototype.toArray=function(){return this.drop(0)},Oe(tn.prototype,function(t,n){var e=g[n],r=/^(?:filter|map|reject)|While$/.test(n),i=/^(?:first|last)$/.test(n);g.prototype[n]=function(){var n=arguments,o=(n.length,this.__chain__),u=this.__wrapped__,a=!!this.__actions__.length,s=u instanceof tn;if(s&&r){var f=n[0];s=!("function"==typeof f&&1!=f.length)}var l=s&&!a;if(i&&!o)return l?t.call(u):e.call(g,this.value());var c=function(t){var r=[t];return va.apply(r,n),e.apply(g,r)};if(s||ns(u)){var h=l?u:new tn(this),p=t.apply(h,n);if(!i&&(a||p.__actions__)){var d=p.__actions__||(p.__actions__=[]);d.push({func:Ri,args:[c],thisArg:g})}return new Q(p,o)}return this.thru(c)}}),te(["concat","join","pop","push","shift","sort","splice","unshift"],function(t){var n=ta[t],e=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",r=/^(?:join|pop|shift)$/.test(t);g.prototype[t]=function(){var t=arguments;return r&&!this.__chain__?n.apply(this.value(),t):this[e](function(e){return n.apply(e,t)})}}),tn.prototype.clone=Ln,tn.prototype.reverse=Mn,tn.prototype.value=Vn,g.prototype.chain=ji,g.prototype.commit=Ai,g.prototype.plant=Si,g.prototype.reverse=Ii,g.prototype.toString=Pi,g.prototype.run=g.prototype.toJSON=g.prototype.valueOf=g.prototype.value=Oi,g.prototype.collect=g.prototype.map,g.prototype.head=g.prototype.first,g.prototype.select=g.prototype.filter,g.prototype.tail=g.prototype.rest,g}var w,E="3.4.0",R=1,j=2,A=4,S=8,I=16,P=32,O=64,C=128,k=256,T=30,F="...",W=150,U=16,B=0,N=2,D=3,L="Expected a function",M="__lodash_placeholder__",V="[object Arguments]",z="[object Array]",$="[object Boolean]",q="[object Date]",Y="[object Error]",X="[object Function]",H="[object Map]",K="[object Number]",G="[object Object]",J="[object RegExp]",Q="[object Set]",Z="[object String]",tn="[object WeakMap]",nn="[object ArrayBuffer]",en="[object Float32Array]",rn="[object Float64Array]",on="[object Int8Array]",un="[object Int16Array]",an="[object Int32Array]",sn="[object Uint8Array]",fn="[object Uint8ClampedArray]",ln="[object Uint16Array]",cn="[object Uint32Array]",hn=/\b__p \+= '';/g,pn=/\b(__p \+=) '' \+/g,dn=/(__e\(.*?\)|\b__t\)) \+\n'';/g,gn=/&(?:amp|lt|gt|quot|#39|#96);/g,vn=/[&<>"'`]/g,yn=RegExp(gn.source),_n=RegExp(vn.source),mn=/<%-([\s\S]+?)%>/g,bn=/<%([\s\S]+?)%>/g,xn=/<%=([\s\S]+?)%>/g,wn=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,En=/\w*$/,Rn=/^\s*function[ \n\r\t]+\w/,jn=/^0[xX]/,An=/^\[object .+?Constructor\]$/,Sn=/[\xc0-\xd6\xd8-\xde\xdf-\xf6\xf8-\xff]/g,In=/($^)/,Pn=/[.*+?^${}()|[\]\/\\]/g,On=RegExp(Pn.source),Cn=/\bthis\b/,kn=/['\n\r\u2028\u2029\\]/g,Tn=function(){var t="[A-Z\\xc0-\\xd6\\xd8-\\xde]",n="[a-z\\xdf-\\xf6\\xf8-\\xff]+";return RegExp(t+"+(?="+t+n+")|"+t+"?"+n+"|"+t+"+|[0-9]+","g")}(),Fn=" 	\f\n\r\u2028\u2029",Wn=["Array","ArrayBuffer","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Math","Number","Object","RegExp","Set","String","_","clearTimeout","document","isFinite","parseInt","setTimeout","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","window","WinRTError"],Un=-1,Bn={};Bn[en]=Bn[rn]=Bn[on]=Bn[un]=Bn[an]=Bn[sn]=Bn[fn]=Bn[ln]=Bn[cn]=!0,Bn[V]=Bn[z]=Bn[nn]=Bn[$]=Bn[q]=Bn[Y]=Bn[X]=Bn[H]=Bn[K]=Bn[G]=Bn[J]=Bn[Q]=Bn[Z]=Bn[tn]=!1;var Nn={};Nn[V]=Nn[z]=Nn[nn]=Nn[$]=Nn[q]=Nn[en]=Nn[rn]=Nn[on]=Nn[un]=Nn[an]=Nn[K]=Nn[G]=Nn[J]=Nn[Z]=Nn[sn]=Nn[fn]=Nn[ln]=Nn[cn]=!0,Nn[Y]=Nn[X]=Nn[H]=Nn[Q]=Nn[tn]=!1;var Dn={leading:!1,maxWait:0,trailing:!1},Ln={"":"A","":"A","":"A","":"A","":"A","":"A","":"a","":"a","":"a","":"a","":"a","":"a","":"C","":"c","":"D","":"d","":"E","":"E","":"E","":"E","":"e","":"e","":"e","":"e","":"I","":"I","":"I","":"I","":"i","":"i","":"i","":"i","":"N","":"n","":"O","":"O","":"O","":"O","":"O","":"O","":"o","":"o","":"o","":"o","":"o","":"o","":"U","":"U","":"U","":"U","":"u","":"u","":"u","":"u","":"Y","":"y","":"y","":"Ae","":"ae","":"Th","":"th","":"ss"},Mn={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","`":"&#96;"},Vn={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'","&#96;":"`"},zn={"function":!0,object:!0},$n={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},qn=zn[typeof exports]&&exports&&!exports.nodeType&&exports,Yn=zn[typeof module]&&module&&!module.nodeType&&module,Xn=qn&&Yn&&"object"==typeof global&&global,Hn=zn[typeof window]&&window,Kn=Yn&&Yn.exports===qn&&qn,Gn=Xn||Hn!==(this&&this.window)&&Hn||this,Jn=x();"function"==typeof e&&"object"==typeof e.amd&&e.amd?(Gn._=Jn,e("lodash",[],function(){return Jn})):qn&&Yn?Kn?(Yn.exports=Jn)._=Jn:qn._=Jn:Gn._=Jn}.call(this),e("renderer",["lodash"],function(t){var n={DEFAULTS:{fillStyle:"black",strokeStyle:"black",lineCap:"round",lineWidth:1,lineJoin:"round",miterLimit:10,font:"10px sans-serif",textAlign:"start",textBaseline:"alphabetic"},mask:!1,clearRect:function(t,n,e,r,i){t.clearRect(n,e,r,i)},drawPath:function(n,e,r){t.assign(n,r),n.beginPath();var i=!1,o=0,u=0;for(var a in e)o=e[a].x,u=e[a].y,i?n.lineTo(o,u):(n.moveTo(o,u),i=!0);n.stroke(),n.closePath()},drawRectangle:function(n,e,r,i,o,u){t.assign(n,u),n.beginPath(),n.rect(e,r,i,o),n.fill(),n.stroke(),n.closePath()},drawEllipse:function(n,e,r,i,o,u){t.assign(n,u),n.beginPath(),n.ellipse(e,r,i,o,0,0,2*Math.PI),n.fill(),n.stroke(),n.closePath()},drawText:function(n,e,r,i,o){t.assign(n,o),n.beginPath(),n.fillText(i,e,r),n.closePath()},measureText:function(n,e,r){return t.assign(n,r),n.measureText(e)},drawImage:function(n,e,r,i,o){t.assign(n,o),n.beginPath(),n.drawImage(i,e,r),n.closePath()}};return n}),e("vector",["lodash"],function(t){function n(n,e){var r=t.zip.apply(null,n);return t.map(r,function(n){return t.reduce(n,e)})}function e(n){var e=1/Math.max.apply(null,t.map(n,function(t){return Math.abs(t)}));return t.map(n,function(t){return t*e})}function r(t){this.coordinates=t}return Object.defineProperty(r.prototype,"unitVector",{configurable:!0,enumerable:!0,get:function(){return new r(e(this.coordinates))}}),Object.defineProperty(r.prototype,"x",{configurable:!0,enumerable:!0,get:function(){return this.coordinates[0]},set:function(t){this.coordinates[0]=t}}),Object.defineProperty(r.prototype,"y",{configurable:!0,enumerable:!0,get:function(){return this.coordinates[1]},set:function(t){this.coordinates[1]=t}}),Object.defineProperty(r.prototype,"z",{configurable:!0,enumerable:!0,get:function(){return this.coordinates[2]},set:function(t){this.coordinates[2]=t}}),r.prototype.add=function(t){return r.add(this,t)},r.prototype.subtract=function(t){return r.subtract(this,t)},r.prototype.multiply=function(t){return r.multiply(this,t)},r.add=function(t,e){return new r(n([t.coordinates,e.coordinates],function(t,n){return t+n}))},r.subtract=function(t,e){return new r(n([t.coordinates,e.coordinates],function(t,n){return t-n}))},r.multiply=function(e,i){return new r(isNaN(i)?n([e.coordinates,i.coordinates],function(t,n){return t*n}):t.map(e.coordinates,function(t){return t*i}))},r.prototype.coordinates=[],r}),e("canvas-object",["lodash","vector","renderer"],function(t,n,e){function r(r){this.d=new n([r.x||0,r.y||0]),this.style=t.assign({},e.DEFAULTS,r.style),this.draggable=r.draggable||!1,this._needsUpdate=!1,this._needsRender=!0,this._prerenderedImage=document.createElement("canvas"),this._prerenderingContext=this._prerenderedImage.getContext("2d"),this.parent=r.parent||null,this.draggable&&this.enableDragging(),Object.defineProperty(this,"offset",{configurable:!0,enumerable:!0,get:function(){return this.parent?this.d.add(this.parent.offset):this.d}}),Object.defineProperty(this,"NeedsUpdate",{configurable:!0,enumerable:!0,set:function(t){return this.parent&&t&&(this.parent.NeedsUpdate=t),this._needsUpdate=t},get:function(){return this._needsUpdate}}),Object.defineProperty(this,"NeedsRender",{configurable:!0,enumerable:!0,set:function(t){return this.parent&&t&&(this.parent.NeedsRender=t),this._needsRender=t},get:function(){return this._needsRender}})}return r.prototype.enableDragging=function(){this.onpressdown=this.dragStart},r.prototype.disableDragging=function(){this.onpressdown=null,this.onpressmove=null,this.onpressup=null,this.onpresscancel=null,this.NeedsRender=!0,this.NeedsUpdate=!0},r.prototype.dragStart=function(t){this.mouseOffset=new n([t.offsetX,t.offsetY]).subtract(this.offset),this.onpressdown=null,this.onpressmove=this.drag,this.onpressup=this.dragEnd,this.onpresscancel=this.dragEnd},r.prototype.drag=function(t){this.d=new n([t.offsetX,t.offsetY]).subtract(this.mouseOffset),this.NeedsRender=!0,this.NeedsUpdate=!0},r.prototype.dragEnd=function(){this.onpressdown=this.dragStart,this.onpressmove=null,this.onpressup=null,this.onpresscancel=null,this.NeedsRender=!0,this.NeedsUpdate=!0},r.prototype.draggable=!1,r.prototype.context=null,r.prototype.style=null,r.prototype.scale=1,r.prototype.flags={DEBUG:!1},r.prototype.draw=function(t,n){this.NeedsUpdate=!1,this.NeedsRender&&this.render&&(delete this._prerenderedImage,delete this._prerenderingContext,this._prerenderedImage=document.createElement("canvas"),this._prerenderingContext=this._prerenderedImage.getContext("2d"),this._prerenderedImage.width=this.boundingBox.right-this.boundingBox.left,this._prerenderedImage.height=this.boundingBox.bottom-this.boundingBox.top,this.render(),this.NeedsRender=!1),this.flags.DEBUG&&(this._prerenderingContext.beginPath(),this._prerenderingContext.lineWidth=2,this._prerenderingContext.strokeStyle="#FF0000",this._prerenderingContext.strokeRect(0,0,this._prerenderedImage.width,this._prerenderedImage.height),this._prerenderingContext.closePath());var r=this.boundingBox.left+(n&&n.left?n.left:0),i=this.boundingBox.top+(n&&n.top?n.top:0);e.drawImage(t,r,i,this._prerenderedImage)},r.prototype.render=function(){},r.prototype.PointIsInObject=function(){return!1},r.prototype.onpressdown=null,r.prototype.onpressup=null,r.prototype.onpressmove=null,r.prototype.onpresscancel=null,r}),e("line",["vector"],function(t){function n(n,e){this.p1=n,this.direction=e,this.p2=new t([this.p1.x,this.p1.y]).add(this.direction)}return n.prototype.p1=null,n.prototype.p2=null,n.prototype.direction=null,n.prototype.intersectionWith=function(t){return n.intersection(this,t)},n.intersection=function(n,e){var r=n.p1.x,i=n.p2.x,o=e.p1.x,u=e.p2.x,a=n.p1.y,s=n.p2.y,f=e.p1.y,l=e.p2.y,c=(r-i)*(f-l)-(a-s)*(o-u);if(0===c)return null;var h=(r*s-a*i)*(o-u)-(r-i)*(o*l-f*u),p=(r*s-a*i)*(f-l)-(a-s)*(o*l-f*u);return new t([h/c,p/c])},n}),e("vector-path",["lodash","canvas-object","renderer","vector","line"],function(t,n,e,r,i){function o(e){n.call(this,e),this.vertices=t.map(e.vertices||[],function(t){return new r([t.x,t.y])}),Object.defineProperty(this,"boundingBox",{configurable:!0,enumerable:!0,get:function(){var t=null,n=null,e=null,r=null;for(var i in this.vertices)t=null!==t&&t<this.vertices[i].y?t:this.vertices[i].y,n=null!==n&&n<this.vertices[i].x?n:this.vertices[i].x,e=null!==e&&e>this.vertices[i].y?e:this.vertices[i].y,r=null!==r&&r>this.vertices[i].x?r:this.vertices[i].x;return{top:t+this.offset.y-this.style.lineWidth/2,left:n+this.offset.x-this.style.lineWidth/2,bottom:e+this.offset.y+this.style.lineWidth/2,right:r+this.offset.x+this.style.lineWidth/2}}})}return t.assign(o.prototype,n.prototype),o.prototype.render=function(){var n=this.boundingBox,i=this.offset,o=t.map(this.vertices,function(t){return t.subtract(new r([n.left,n.top])).add(i)});e.drawPath(this._prerenderingContext,o,this.style)},o.prototype.PointIsInObject=function(t,n){for(var e=!1,o=new i(new r([t,n]),new r([1,0])),u=0;u<this.vertices.length;u++){var a=u+1>=this.vertices.length?0:u+1,s=this.vertices[u].add(this.offset),f=this.vertices[a].add(this.offset),l=f.subtract(s).unitVector,c=new i(s,l),h=c.intersectionWith(o);if(null!==h){var p=h.x-t>=0;if(p){var d=l.x<0,g=l.y<0,v=d?f:s,y=d?s:f,_=g?f:s,m=g?s:f,b=h.x-v.x>=0&&y.x-h.x>=0&&h.y-_.y>=0&&m.y-h.y>=0;b&&(e=!e)}}}return e},o}),e("rectangle",["lodash","canvas-object","renderer"],function(t,n,e){function r(t){n.call(this,t),this.width=t.width||0,this.height=t.height||0,Object.defineProperty(this,"boundingBox",{configurable:!0,enumerable:!0,get:function(){return{top:this.offset.y-this.style.lineWidth/2,left:this.offset.x-this.style.lineWidth/2,bottom:this.offset.y+this.height+this.style.lineWidth/2,right:this.offset.x+this.width+this.style.lineWidth/2}}})}return t.assign(r.prototype,n.prototype),r.prototype.render=function(){e.drawRectangle(this._prerenderingContext,this.style.lineWidth/2,this.style.lineWidth/2,this.width,this.height,this.style)},r.prototype.PointIsInObject=function(t,n){var e=this.offset.x-this.style.lineWidth/2,r=this.offset.y-this.style.lineWidth/2,i=this.offset.x+this.width+this.style.lineWidth/2,o=this.offset.y+this.height+this.style.lineWidth/2;return t>e&&n>r&&i>t&&o>n},r}),e("ellipse",["lodash","canvas-object","renderer"],function(t,n,e){function r(t){n.call(this,t),this.radius=t.radius||0,this.minorRadius=t.minorRadius||this.radius||0,Object.defineProperty(this,"boundingBox",{configurable:!0,enumerable:!0,get:function(){return{top:this.offset.y-(this.minorRadius+this.style.lineWidth/2),left:this.offset.x-(this.radius+this.style.lineWidth/2),bottom:this.offset.y+this.minorRadius+this.style.lineWidth/2,right:this.offset.x+this.radius+this.style.lineWidth/2}}})}return t.assign(r.prototype,n.prototype),r.prototype.render=function(){e.drawEllipse(this._prerenderingContext,this.radius+this.style.lineWidth/2,this.minorRadius+this.style.lineWidth/2,this.radius,this.minorRadius,this.style)},r.prototype.PointIsInObject=function(t,n){return Math.pow(t-this.offset.x,2)/Math.pow(this.radius,2)+Math.pow(n-this.offset.y,2)/Math.pow(this.minorRadius,2)<=1},r}),e("text",["lodash","canvas-object","renderer"],function(t,n,e){function r(i){n.call(this,i),this.text=i.text,this.fontSize=i.fontSize||r.DEFAULTS.fontSize,this.fontFamily=i.fontFamily||r.DEFAULTS.fontFamily,this.fontStyle=i.fontStyle||r.DEFAULTS.fontStyle,this.fontVariant=i.fontVariant||r.DEFAULTS.fontVariant,this.fontWeight=i.fontWeight||r.DEFAULTS.fontWeight,this.lineHeight=i.lineHeight||r.DEFAULTS.lineHeight,this.textAlign=i.textAlign||r.DEFAULTS.textAlign,this.textBaseline=i.textBaseline||r.DEFAULTS.textBaseline,t.assign(this.style,i.style,{font:r.FormatFontString(this.fontStyle,this.fontVariant,this.fontWeight,this.fontSize,this.lineHeight,this.fontFamily),textAlign:this.textAlign,textBaseline:this.textBaseline}),this.textMetrics=e.measureText(this._prerenderingContext,this.text,this.style),this.textMetrics.height=parseFloat(this.fontSize),Object.defineProperty(this,"boundingBox",{configurable:!0,enumerable:!0,get:function(){return this.textMetrics=e.measureText(this._prerenderingContext,this.text,this.style),this.textMetrics.height=parseFloat(this.fontSize),{top:this.offset.y,left:this.offset.x,bottom:this.offset.y+this.textMetrics.height,right:this.offset.x+this.textMetrics.width}}})}return t.assign(r.prototype,n.prototype),r.FormatFontString=function(t,n,e,r,i,o){return t+" "+n+" "+e+" "+r+"/"+i+" "+o},r.DEFAULTS={fontSize:"16px",fontFamily:"sans-serif",fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",lineHeight:"normal",textAlign:"start",textBaseline:"top"},r.prototype.render=function(){e.drawText(this._prerenderingContext,0,0,this.text,this.style)},r.prototype.PointIsInObject=function(t,n){var e=this.offset.x,r=this.offset.y,i=this.offset.x+this.textMetrics.width,o=this.offset.y+this.textMetrics.height;return t>e&&n>r&&i>t&&o>n},r}),n(["lodash","canvas-object"],function(t,n){function e(t){n.call(this,t),this.image=t.image}return t.assign(e.prototype,n.prototype),e.prototype.draw=function(){var t=this.x+this.translation.x,e=this.y+this.translation.y;n.Renderer.drawImage(this.image,t,e,this.style)},e}),e("image",function(){}),e("container",["lodash","canvas-object","renderer"],function(t,n){function e(e){n.call(this,e),this.children=e.children||[],this.masks=e.masks||[],Object.defineProperty(this,"boundingBox",{configurable:!0,enumerable:!0,get:function(){var n=null,e=null,r=null,i=null;return t.each(this.children,function(t){n=null!==n&&n<t.boundingBox.top?n:t.boundingBox.top,e=null!==e&&e<t.boundingBox.left?e:t.boundingBox.left,r=null!==r&&r>t.boundingBox.bottom?r:t.boundingBox.bottom,i=null!==i&&i>t.boundingBox.right?i:t.boundingBox.right}),{top:n,left:e,bottom:r,right:i}}})}return t.assign(e.prototype,n.prototype),e.prototype.masks=[],e.prototype.children=[],e.prototype.ChildrenAt=function(n,e){return t.filter(this.children,function(t){return t.PointIsInObject(n,e)})},e.prototype.ChildAt=function(t,n){for(var e=this.children.length-1;e>=0;e--)if(this.children[e].PointIsInObject(t,n))return this.children[e];return null
},e.prototype.PointIsInObject=function(t,n){for(var e in this.children)if(this.children[e].PointIsInObject(t,n))return!0;return!1},e.prototype.addChild=function(t){t.parent=this,this.children.push(t),this.NeedsUpdate=!0,this.NeedsRender=!0},e.prototype.addMask=function(t){t.parent=this,this.masks.push(t),this.NeedsUpdate=!0,this.NeedsRender=!0},e.prototype.render=function(){var n=this._prerenderingContext,e={top:-this.boundingBox.top,left:-this.boundingBox.left,bottom:-this.boundingBox.bottom,right:-this.boundingBox.right};t.each(this.children,function(t){t.draw(n,e)}),n.globalCompositeOperation="destination-out",e={top:-this.boundingBox.top,left:-this.boundingBox.left,bottom:-this.boundingBox.bottom,right:-this.boundingBox.right},t.each(this.masks,function(t){t.draw(n,e)}),n.globalCompositeOperation="normal"},e.prototype.parent=null,e.prototype.children=[],e}),e("canvas-compositor",["lodash","renderer","canvas-object","vector-path","rectangle","ellipse","text","image","container"],function(t,n,e,r,i,o,u,a,s){function f(e,r){this._canvas=e,this._context=this._canvas.getContext("2d"),this._updateThreshhold=1e3/60,this._lastRenderTime=0,this._currentTime=0,this.style=t.extend({},n.DEFAULTS,r),this.Scene=new s({x:0,y:0}),this._bindEvents(),this._animationLoop(),this._eventRegistry={onpressup:[],onpressdown:[],onpressmove:[],onpresscancel:[]}}function l(t,n){var e;e=n.touches.length?{screenX:n.touches[0].screenX,screenY:n.touches[0].screenY,clientX:n.touches[0].clientX,clientY:n.touches[0].clientY,button:0}:c,c=e;var r=new window.MouseEvent(t,e);n.target.dispatchEvent(r)}var c,h={PRESS_UP:"onpressup",PRESS_DOWN:"onpressdown",PRESS_MOVE:"onpressmove",PRESS_CANCEL:"onpresscancel"};return f.prototype.registerEvent=function(t,n){this._eventRegistry[t]&&this._eventRegistry[t].push(n)},f.prototype.removeEvent=function(t,n){if(this._eventRegistry[t]){var e=this._eventRegistry[t].indexOf(n);if(e>=0)return this._eventRegistry[t].splice(e,1)}},f.prototype._bindEvents=function(){this._canvas.addEventListener("mousedown",t.bind(this._handlePressDown,this)),this._canvas.addEventListener("mouseup",t.bind(this._handlePressUp,this)),this._canvas.addEventListener("mousemove",t.bind(this._handlePressMove,this)),this._canvas.addEventListener("mouseout",t.bind(this._handlePressCancel,this)),this._canvas.addEventListener("touchstart",function(t){t.preventDefault(),t.stopPropagation(),l("mousedown",t)}),this._canvas.addEventListener("touchend",function(t){t.preventDefault(),t.stopPropagation(),l("mouseup",t)}),this._canvas.addEventListener("touchmove",function(t){t.preventDefault(),t.stopPropagation(),l("mousemove",t)}),this._canvas.addEventListener("touchcancel",function(t){t.preventDefault(),t.stopPropagation(),l("mouseout",t)})},f.prototype._handlePressDown=function(n){n.preventDefault();var e=window.getComputedStyle(this._canvas),r=parseFloat(e.getPropertyValue("border-left"))+parseFloat(e.getPropertyValue("padding-left")),i=parseFloat(e.getPropertyValue("border-top"))+parseFloat(e.getPropertyValue("padding-top")),o=n.offsetX-r,u=n.offsetY-i,a=this.Scene.ChildAt(o,u);a&&a.onpressdown&&a.onpressdown(n),t.each(this._eventRegistry[h.PRESS_DOWN],function(t){t(n)})},f.prototype._handlePressUp=function(n){n.preventDefault();var e=window.getComputedStyle(this._canvas),r=parseFloat(e.getPropertyValue("border-left"))+parseFloat(e.getPropertyValue("padding-left")),i=parseFloat(e.getPropertyValue("border-top"))+parseFloat(e.getPropertyValue("padding-top"));t.each(this.Scene.children,function(t){t.draggable&&t.onpressup&&t.onpressup(n)});var o=n.offsetX-r,u=n.offsetY-i,a=this.Scene.ChildAt(o,u);a&&a.onpressup&&a.onpressup(n),t.each(this._eventRegistry[h.PRESS_UP],function(t){t(n)})},f.prototype._handlePressMove=function(n){n.preventDefault();var e=t.filter(this.Scene.children,function(t){return!!t.onpressmove});t.each(e,function(t){t.onpressmove(n)}),t.each(this._eventRegistry[h.PRESS_MOVE],function(t){t(n)})},f.prototype._handlePressCancel=function(n){n.preventDefault();var e=t.filter(this.Scene.children,function(t){return!!t.onpresscancel});t.each(e,function(t){t.onpresscancel(n)}),t.each(this._eventRegistry[h.PRESS_CANCEL],function(t){t(n)})},f.prototype._animationLoop=function(){window.requestAnimationFrame(t.bind(this._animationLoop,this)),this._currentTime=+new Date,this._currentTime-this._lastRenderTime>=this._updateThreshhold&&this.Scene.NeedsUpdate&&(this._lastRenderTime=+new Date,n.clearRect(this._context,0,0,this._canvas.width,this._canvas.height),this.Scene.draw(this._context))},f.prototype.drawPath=function(t){n.drawPath(this._context,t,this.style)},f.prototype.drawRectangle=function(t,e,r,i){n.drawRectangle(this._context,t,e,r,i||r,this.style)},f.prototype.drawEllipse=function(t,e,r,i){n.drawEllipse(this._context,t,e,r,i||r,this.style)},f.prototype.drawText=function(t,e,r){n.drawText(this._context,t,e,r,this.style)},f.prototype.measureText=function(t){n.measureText(this._context,t,this.style)},f.prototype.drawImage=function(t,e,r){n.drawImage(this._context,t,e,r,this.style)},f.prototype.draw=function(t){return t?void t.draw():void 0},f.prototype.getContext=function(){return this._context},f.Path=r,f.Rectangle=i,f.Ellipse=o,f.Text=u,f.Image=a,f.Container=s,f.Events=h,f.prototype.Scene=null,f}),n("canvas-compositor")});